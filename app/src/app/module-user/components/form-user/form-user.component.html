<div class="body" >
    <nav>
        <div class="titulo">
            <h4>ADser Truco</h4>
        </div>
        <div class="logo">
            <img src="assets/Logotruco.png" alt="">
        </div>
        <div>
            <button (click)="closed()" class="set">Salir</button>
            <button (click)="cambiar()" class="set">Contraseña</button>
        </div>
    </nav>
    <div class="forms">
        <div class="salas">
            <h1>Crear sala</h1>
            <div class="form-block" [formGroup]="formSala">
                <label for="sala">Nombre de la sala</label>
                <input formControlName="name" type="text" id="name">
                <div class="error">
                    <i *ngIf="formSala.get('name')?.invalid && formSala.get('name')?.touched">Nombre es requerido.</i>
                </div>
                <label for="apuesta">Apuesta:</label>
                <input formControlName="apuesta" type="number">
                <div class="error">
                    <i  *ngIf="formSala.get('credit')?.invalid && formSala.get('credit')?.touched">Creditos es requerido.</i>
                </div>
                <button [disabled]="formSala.invalid" class="crear" (click)="createSala()">Crear</button>
            </div>
            <div class="form-block">
                <h2 for="sala">Ingresar a una sala:</h2>
                <br>
                <ng-container *ngFor="let item of salas">
                    <div class="salaItem">
                        <button title="Ingresar a {{item.name}}" (click)="sala(item)">{{item.name}}</button>
                        <button title="Eliminar sala" (click)="deleteSala(item._id)">
                            <span class="material-symbols-outlined">
                                delete
                            </span>
                        </button>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>

<div class="cambiarPass" *ngIf="cambiarPass">
    <div class="forms">
        <div class="form-user">
            <button class="cerrar" (click)="cerrar()">
                <span class="material-symbols-outlined">
                    cancel
                    </span>
            </button>
            <h1>Cambiar contraseña</h1>
            <div [formGroup]="formPass" class="form-block">
                <label for="name">Nueva contraseña:</label>
                <input formControlName="password" type="password" id="password">
                <div class="error" >
                    <i *ngIf="formPass.get('password')?.invalid && formPass.get('password')?.errors?.['minlength'] && formPass.get('password')?.touched">Ingrese una contraseña válida.</i>
                </div>
                <label for="pass">Contraseña</label>
                <input formControlName="newPassword" type="password" id="newPassword">
                <div class="error" >
                    <i *ngIf="formPass.get('newPassword')?.invalid && formPass.get('newPassword')?.errors?.['minlength'] && formPass.get('newPassword')?.touched">Ingrese una contraseña válida.</i>
                </div>
                <button [disabled]="formPass.invalid" (click)="sendPass()">Cambiar</button>
            </div>
        </div>
    </div>
</div>