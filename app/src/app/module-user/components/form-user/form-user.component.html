<div class="body" >
    <nav>
        <div class="titulo">
            <h4>ADser Truco</h4>
        </div>
        <div class="logo">
            <img src="assets/Logotruco.png" alt="">
        </div>
        <div class="solicitar">
            <!-- <button (click)="solicitar()">Solicitar usuario</button> -->
            <a title="Solicitar registro"
            href="https://wa.me/123456789?text=Hola,%20quisiera%20registrarme%20en%20ADser%20Truco!"
            target="_blank"><p>Solicitar registro</p>
            <span class="material-symbols-outlined">
                speaker_notes
            </span>
    </a>
        </div>
    </nav>
    <div class="forms">
        <div class="form-user" [ngClass]="{'ocultar': user !== ''}">
            <h1>Login</h1>
            <div [formGroup]="formUser" class="form-block">
                <label for="name">Nombre</label>
                <input formControlName="name" type="text" id="name">
                <div class="error">
                    <i *ngIf="formUser.get('name')?.invalid && formUser.get('name')?.touched">Nombre es requerido.</i>
                </div>
                <label for="pass">Contraseña</label>
                <input formControlName="password" type="password" id="pass">
                <div class="error" >
                    <i *ngIf="formUser.get('password')?.invalid && formUser.get('password')?.errors?.['minlength'] && formUser.get('password')?.touched">Ingrese una contraseña válida.</i>
                </div>
                <button [disabled]="formUser.invalid" (click)="userSend()">Ingresar</button>
            </div>
        </div>
        
        <div class="salas" [ngClass]="{'ocultar': user === ''}">
            <h1>Crear sala</h1>
            <div class="form-block" [formGroup]="formSala">
                <label for="sala">Nombre de la sala</label>
                <input formControlName="name" type="text" id="name">
                <div class="error">
                    <i *ngIf="formSala.get('name')?.invalid && formSala.get('name')?.touched">Nombre es requerido.</i>
                </div>
                <label for="apuesta">Apuesta:</label>
                <input formControlName="apuesta" type="number">
                <div class="error">
                    <i  *ngIf="formSala.get('credit')?.invalid && formSala.get('credit')?.touched">Creditos es requerido.</i>
                </div>
                <button [disabled]="formSala.invalid" class="crear" (click)="createSala()">Crear</button>
            </div>
            <div class="form-block">
                <h2 for="sala">Ingresar a una sala:</h2>
                <br>
                <ng-container *ngFor="let item of salas">
                    <div class="salaItem">
                        <button title="Ingresar a {{item.name}}" (click)="sala(item)">{{item.name}}</button>
                        <button title="Eliminar sala" (click)="deleteSala(item._id)">
                            <span class="material-symbols-outlined">
                                delete
                            </span>
                        </button>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>
</div>

